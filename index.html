<!DOCTYPE html>
<html lang="en">
<head>
      <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualisation 2</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: roboto, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            width: 90%;
            margin: 0 auto;
            color: rgb(90, 17, 17);
        }
        .section {
            margin-bottom: 40px;
        }
        .section-title {
            text-align: center;
            margin-bottom: 20px;
            font-size: 50px;
            font-weight: bold;
            font-family: Impact
        }
        .text-content {
            text-align: center;
            margin-bottom: 20px;
        }
        .visualization {
            background-color: rgb(221, 205, 205);
            padding: 20px;
            border: 5px solid rgb(90, 17, 17);
            ;
            text-align: center;
        }
        
        /* Responsive Grid for the last two charts */
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 4fr; /* 1:4 ratio */
            gap: 20px;
            align-items: start;
        }

        /* Full-width map section */
        .visualization.map {
            width: 100%;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: 1fr; /* Stack text and charts on smaller screens */
            }
        }
        .green {
            color: green;
            font-size: 25
        }
        .blue {
            color: blue;
            font-size: 25
        }
        .red {
            color: red;
            font-size: 25
        }
    </style>
</head>

<body>

<div class="container">
    <!-- Section 1: Map Visualization -->
    <div class="section">
        <h2 class="section-title">Geographical Patterns of Natural Disasters and Their Impacts</h2>
        <div class="text-content">
            You might wonder why some countries such as Japan and New Zealand experience more natural disasters compared to countries like Australia. To find the answer, we can look at earth's tectonic plates - the ever-shifting chunks that make up Earth's crust. These collide due to the flow of hot magma beneath the crust, and create chaos above.
            <br><br>
            The following interactive map shows the correlation between tectonic plates and the following natural disasters: <b><span class="green">earthquakes, </span><span class="blue">tsunamis </span> <span class="red"> and volcanoes!</span></b>
            Regions that are more prone to natural disasters are often right by the borders where tectonic plates interact, forming the <span class="red"><b>Pacific Ring Of Fire.</b></span>
        </div>
        <div class="visualization map" id="map">
            
        </div>
    </div>

    <!-- Section 2: Scatterplot Visualization -->
    <div class="section">
        <h2 class="section-title"></h2>
        <div class="grid-layout">
            <div class="text-content">
                While <b>larger magnitude earthquakes</b> typically affect <b>more people</b>, their impact also depends on <b>population density</b>.
                <br><Br>
                Notice in the below scatterplot how North America ('No') and South America ('So') are felt by thousands of people, due to their dense urban populations of around 1 billion people. On the other hand, some earthquakes in Asia have a high CDI (Community Determined Impact) but only a few people reported feeling it.
                </div>
            <div class="visualization scatterplot" id="scatterplot">
            </div>
        </div>
    </div>

    <!-- Section 3: Stacked Column Graph -->
    <div class="section">
        <h2 class="section-title"></h2>
        <div class="grid-layout">
            <div class="text-content">
                Countries like Japan and Indonesia face frequent earthquakes and volcanic eruptions, while the U.S. encounters a range of disasters, including hurricanes.
                <br><br>
                Click on the <b>Disaster Legend</b> to explore how specific types of disasters vary across different countries.
            </div>
            <div class="visualization stacked-bar" id="stackedbar">
            </div>
        </div>
    </div>
    <div class="section">
        <div class="text-content">
            <i><b>Acknowledgements</b>
                <br>
                <a href="https://github.com/fraxen/tectonicplates/blob/master/GeoJSON/PB2002_plates.json?short_path=879951b">Tectonic Plates</a>
                | 
                <a href= "https://www.kaggle.com/datasets/jessemostipak/volcano-eruptionsVolcanic">Volcanic Dataset</a>
                | 
                <a href = "https://www.kaggle.com/datasets/shreyasur965/recent-earthquakes">Earthquake Dataset</a> 
                | 
                <a href="https://www.kaggle.com/datasets/andrewmvd/tsunami-dataset">Tsunami Dataset</a> 
                <br>
                Visualisation by Hasee Weerasinghe Meegahawattage, 22nd October, 2024 for FIT3179 Data Visualisation 2 Assignment
            </i>
        </div>
    </div>
</div>


</body>
<script type="text/javascript">

    vegaEmbed('#map', "src/js/map.vg.json").then(function(result) {
    }).catch(console.error);
    
    vegaEmbed('#scatterplot', "src/js/scatterplot.vg.json").then(function(result) {
    }).catch(console.error);
    
    vegaEmbed('#stackedbar', "src/js/stackedbar.vg.json").then(function(result) {
    }).catch(console.error);
  
  </script>
  
</html>
