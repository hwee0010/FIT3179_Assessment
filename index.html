<!DOCTYPE html>
<html lang="en">
<head>
      <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualisation 2</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: roboto, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            width: 90%;
            margin: 0 auto;
        }
        .section {
            margin-bottom: 40px;
        }
        .section-title {
            text-align: center;
            margin-bottom: 20px;
            font-size: 40px;
            font-weight: normal;
            font-family: Impact
        }
        .text-content {
            text-align: center;
            margin-bottom: 20px;
        }
        .visualization {
            background-color: #f0f0f0;
            padding: 20px;
            border: 1px solid #ddd;
            text-align: center;
        }
        
        /* Responsive Grid for the last two charts */
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 4fr; /* 1:4 ratio */
            gap: 20px;
            align-items: start;
        }

        /* Full-width map section */
        .visualization.map {
            width: 100%;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: 1fr; /* Stack text and charts on smaller screens */
            }
        }
        .green {
            color: green;
            font-size: 25
        }
        .blue {
            color: blue;
            font-size: 25
        }
        .red {
            color: red;
            font-size: 25
        }
    </style>
</head>

<body>

<div class="container">
    <!-- Section 1: Map Visualization -->
    <div class="section">
        <h2 class="section-title">Global Patterns and Impacts of Natural Disasters</h2>
        <div class="text-content">
            You might wonder why some countries such as Japan experience more earthquakes, volcanic eruptions and tsunamis than countries like Australia. The answer lies in the location tectonic plates beneath earth's crust. In this visualisation, you can see how natural disasters cluster around certain regions, and how it impacts the people living there.
            <br><br>
            The following interactive map shows the correlation between tectonic plates and the following natural disasters: <b><div class="green">earthquakes, </div><div class="blue">tsunamis </div> <div class="red"> and volcanoes!</div></b>
            <br><br>
            <b>FUN FACT!: </b>The majority of natural disasters occur around tectonic borders! If you look at the areas where there are the most number of disasters, these coincide with tectonic borders and form the Pacific Ring Of Fire. 
            <br><br>
            Use the map to explore where these disasters cluster and how tectonic plate borders impact global risk zones.
        </div>
        <div class="visualization map" id="map">
            
        </div>
    </div>

    <!-- Section 2: Scatterplot Visualization -->
    <div class="section">
        <h2 class="section-title"></h2>
        <div class="grid-layout">
            <div class="text-content">
                The scatterplot compares earthquake magnitude with its impact on people.
                <br><br>
                Larger earthquakes often affect more people, but population density also plays a role. For example, the 2011 Tohoku earthquake in Japan (magnitude 9.1) was felt by 45 million people, while smaller earthquakes can still have major impacts in urban areas.            </div>
            <div class="visualization scatterplot" id="scatterplot">
            </div>
        </div>
    </div>

    <!-- Section 3: Stacked Column Graph -->
    <div class="section">
        <h2 class="section-title"></h2>
        <div class="grid-layout">
            <div class="text-content">
                This graph shows the frequency of different natural disasters across countries.
                <br><br>
                Countries like Japan and Indonesia face frequent earthquakes and volcanic eruptions, while the U.S. encounters a range of disasters, including hurricanes.
                <br><br>
                Each column represents a country, and sections indicate the types of disasters, revealing geographic trends and vulnerabilities.
            </div>
            <div class="visualization stacked-bar" id="stackedbar">
            </div>
        </div>
    </div>
</div>

</body>
<script type="text/javascript">

    vegaEmbed('#map', "src/js/map.vg.json").then(function(result) {
    }).catch(console.error);
    
    vegaEmbed('#scatterplot', "src/js/scatterplot.vg.json").then(function(result) {
    }).catch(console.error);
    
    vegaEmbed('#stackedbar', "src/js/stackedbar.vg.json").then(function(result) {
    }).catch(console.error);
  
  </script>
  
</html>
